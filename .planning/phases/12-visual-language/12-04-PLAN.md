---
phase: 12-visual-language
plan: 04
type: execute
wave: 3
depends_on: ["12-02"]
files_modified:
  - brand/COLOR_PALETTE.md
  - brand/BRAND_GUIDE.md
autonomous: true

must_haves:
  truths:
    - "Color palette is extracted from hero image with usage guidance"
    - "Brand guide documents visual rules for maintaining consistency"
    - "Typography recommendations suit eco-futurist aesthetic"
  artifacts:
    - path: "brand/COLOR_PALETTE.md"
      provides: "Extracted brand colors with hex/RGB values"
      contains: "Primary"
    - path: "brand/BRAND_GUIDE.md"
      provides: "Complete visual language documentation"
      contains: "Color Palette"
  key_links:
    - from: "brand/hero/winners/hero-primary.png"
      to: "brand/COLOR_PALETTE.md"
      via: "get-image-colors extraction"
      pattern: "hex.*#"
---

<objective>
Extract color palette from hero image and document complete visual language in brand guide.

Purpose: Consistent visuals require documented rules. The brand guide ensures all future assets maintain Esoterica's eco-futurist aesthetic.

Output: COLOR_PALETTE.md with extracted colors and BRAND_GUIDE.md with comprehensive visual language documentation.
</objective>

<execution_context>
@/Users/jem/.claude/get-shit-done/workflows/execute-plan.md
@/Users/jem/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/12-visual-language/12-CONTEXT.md
@.planning/phases/12-visual-language/12-RESEARCH.md
@.planning/phases/12-visual-language/12-02-SUMMARY.md
@.planning/phases/10-positioning/brand/voice-guidelines.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Extract color palette from hero image</name>
  <files>brand/COLOR_PALETTE.md</files>
  <action>
Extract brand colors from the hero winner using get-image-colors.

**Create brand/scripts/extract-palette.ts:**

```typescript
import getColors from "get-image-colors";
import { writeFile } from "fs/promises";
import path from "path";

interface BrandColor {
  name: string;
  hex: string;
  rgb: string;
  usage: string;
}

async function extractPalette() {
  const heroPath = "brand/hero/winners/hero-primary.png";
  const colors = await getColors(heroPath, { count: 8, type: "image/png" });

  const brandColors: BrandColor[] = [
    {
      name: "Primary",
      hex: colors[0].hex(),
      rgb: `rgb(${colors[0].rgb().array().map(Math.round).join(", ")})`,
      usage: "Hero text overlays, primary CTAs, key accent elements"
    },
    {
      name: "Secondary",
      hex: colors[1].hex(),
      rgb: `rgb(${colors[1].rgb().array().map(Math.round).join(", ")})`,
      usage: "Subheadings, secondary buttons, icon highlights"
    },
    {
      name: "Accent",
      hex: colors[2].hex(),
      rgb: `rgb(${colors[2].rgb().array().map(Math.round).join(", ")})`,
      usage: "Links, hover states, active indicators"
    },
    {
      name: "Warm Neutral",
      hex: colors[3].hex(),
      rgb: `rgb(${colors[3].rgb().array().map(Math.round).join(", ")})`,
      usage: "Background warmth, card surfaces, soft dividers"
    },
    {
      name: "Cool Neutral",
      hex: colors[4].hex(),
      rgb: `rgb(${colors[4].rgb().array().map(Math.round).join(", ")})`,
      usage: "Secondary backgrounds, disabled states, subtle borders"
    },
    {
      name: "Dark Base",
      hex: colors[5].hex(),
      rgb: `rgb(${colors[5].rgb().array().map(Math.round).join(", ")})`,
      usage: "Body text, headers, dark mode backgrounds"
    }
  ];

  // Generate markdown
  const markdown = `# Esoterica Color Palette

**Extracted from:** hero-primary.png
**Date:** ${new Date().toISOString().split('T')[0]}

These colors were extracted from Esoterica's hero image to maintain visual consistency across all materials.

## Brand Colors

${brandColors.map(c => `### ${c.name}
- **Hex:** \`${c.hex}\`
- **RGB:** \`${c.rgb}\`
- **Usage:** ${c.usage}
`).join("\n")}

## Usage Guidelines

### Digital Applications
- Use Primary for CTAs and key interactive elements
- Use Dark Base for body text (ensure WCAG AA contrast)
- Use Warm Neutral for surface backgrounds
- Accent for links and hover states

### Print Applications
- Convert to CMYK before print production
- Test warm neutrals - may shift in print
- Use Primary sparingly as spot accent

## Accessibility Notes

Verify contrast ratios before use:
- Text on backgrounds must meet WCAG AA (4.5:1 for normal text, 3:1 for large text)
- Use Dark Base on Warm Neutral for body text
- Avoid Primary text on Secondary backgrounds without testing

---
*Palette extracted: ${new Date().toISOString().split('T')[0]}*
*Source: brand/hero/winners/hero-primary.png*
`;

  await writeFile("brand/COLOR_PALETTE.md", markdown);
  console.log("Color palette extracted to brand/COLOR_PALETTE.md");
  console.log("\\nExtracted colors:");
  brandColors.forEach(c => console.log(`  ${c.name}: ${c.hex}`));
}

extractPalette().catch(console.error);
```

**Run extraction:**
```bash
npx tsx brand/scripts/extract-palette.ts
```

**Manual verification:**
- Review extracted colors against hero image
- If colors seem off (too dark, too saturated), the algorithm may have picked outliers
- Manual adjustment is acceptable - document any changes
  </action>
  <verify>
    - `cat brand/COLOR_PALETTE.md | grep "Primary"` shows primary color section
    - `cat brand/COLOR_PALETTE.md | grep -c "#"` shows at least 6 hex color values
    - `cat brand/COLOR_PALETTE.md | grep "Extracted from"` confirms source documented
  </verify>
  <done>Color palette extracted from hero with 6 named colors and usage guidance</done>
</task>

<task type="auto">
  <name>Task 2: Write comprehensive brand guide</name>
  <files>brand/BRAND_GUIDE.md</files>
  <action>
Create the comprehensive brand guide documenting Esoterica's visual language.

**Write brand/BRAND_GUIDE.md:**

Structure (per CONTEXT.md requirements):
1. Overview & Philosophy
2. Color Palette (reference COLOR_PALETTE.md)
3. Typography
4. Imagery Rules
5. Logo Usage (if applicable)
6. Asset Specifications
7. Do's and Don'ts

**Content:**

```markdown
# Esoterica Brand Guide

**Version:** 1.0
**Last Updated:** {date}

## Overview

Esoterica's visual identity embodies "eco-futurist utopian divine feminine" - a blend of ancient mysticism and speculative technology. Our imagery evokes a world where technology serves spiritual practice, where selenite crystal devices display terminal interfaces, and where tarot wisdom guides decision-making.

### Core Aesthetic

- **Era:** 1980s-meets-2180s
- **Setting:** Joshua Tree desert, natural environments, sacred spaces
- **Technology:** Selenite crystal devices, embedded screens, soft-glow interfaces
- **Mood:** Soft, peaceful, gentle, pastoral
- **Film Look:** Kodak Eastman 100T 5247 35mm - grain, halation, faded warm colors, natural lens flares, shallow depth-of-field

## Color Palette

See [COLOR_PALETTE.md](./COLOR_PALETTE.md) for extracted colors with hex values and usage guidelines.

### Color Philosophy

Our palette derives from Joshua Tree at sunrise - warm pinks and golds meeting cool dawn blues. Colors should feel:
- **Warm:** Inviting, mystical without being dark
- **Natural:** Desert earth tones, sky gradients
- **Luminous:** Soft glow suggesting crystal/screen light

## Typography

### Recommended Fonts

**Headlines:**
- Primary: [Cormorant Garamond](https://fonts.google.com/specimen/Cormorant+Garamond) - Elegant, mystical, readable
- Alternative: [Cinzel](https://fonts.google.com/specimen/Cinzel) - More dramatic, tarot-deck feel

**Body Text:**
- Primary: [Source Sans 3](https://fonts.google.com/specimen/Source+Sans+3) - Clean, technical, highly readable
- Alternative: [Inter](https://fonts.google.com/specimen/Inter) - Modern, excellent screen rendering

**Code/Terminal:**
- [JetBrains Mono](https://fonts.google.com/specimen/JetBrains+Mono) - Matches developer audience, excellent ligatures
- Alternative: [Fira Code](https://fonts.google.com/specimen/Fira+Code)

### Type Scale

| Element | Size | Weight | Font |
|---------|------|--------|------|
| H1 | 48px / 3rem | 600 | Cormorant Garamond |
| H2 | 36px / 2.25rem | 600 | Cormorant Garamond |
| H3 | 24px / 1.5rem | 500 | Cormorant Garamond |
| Body | 16px / 1rem | 400 | Source Sans 3 |
| Small | 14px / 0.875rem | 400 | Source Sans 3 |
| Code | 14px / 0.875rem | 400 | JetBrains Mono |

## Imagery Rules

### Hero Images

- **Aspect:** 16:9 landscape for primary hero
- **Subject:** Altar scenes, tarot cards, selenite devices
- **Figures:** Hands only, soft background presence, or no people
- **Never:** Faces in sharp focus, stock photo aesthetics, generic tech imagery

### Photography Style

- Kodak Eastman 100T 5247 35mm film aesthetic
- Natural lighting (golden hour, sunrise preferred)
- Shallow depth-of-field for ethereal quality
- Grain and halation acceptable/encouraged
- Lens flares when natural

### Prohibited Elements

- Generic crystal/mystical stock imagery
- Dark, moody, "occult" aesthetics
- Corporate tech photography
- Clip art or illustration style
- Overly saturated/artificial colors

## Asset Specifications

### Social Media

| Platform | Size | File |
|----------|------|------|
| Open Graph | 1200x630 | og-image.png |
| LinkedIn | 1200x627 | linkedin.png |
| Twitter/X | 1200x675 | twitter.png |
| Instagram Feed | 1080x1080 | instagram-square.png |
| Instagram Story | 1080x1920 | instagram-story.png |

### Favicon

| Context | Size | File |
|---------|------|------|
| Vector source | Scalable | favicon.svg |
| Browser tab | 32x32 | favicon-32x32.png |
| Fallback | 16x16 | favicon-16x16.png |
| iOS | 180x180 | apple-touch-icon.png |

## Voice Alignment

Visual language should match voice guidelines:
- **Cosmic priestess energy:** Knowing, mysterious, playful
- **Lead mystical:** Practitioners feel at home
- **Tech as sacred tool:** Not novelty, not corporate

See [voice-guidelines.md](../.planning/phases/10-positioning/brand/voice-guidelines.md) for complete voice documentation.

## Do's and Don'ts

### Do

- Use sunrise/golden hour lighting
- Include selenite crystal technology
- Maintain film grain aesthetic
- Crop to highlight tarot cards/altar
- Use warm color temperature

### Don't

- Use dark, moody lighting
- Include sharp-focus faces
- Use sterile tech imagery
- Remove film grain for "cleaner" look
- Oversaturate colors

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | {date} | Initial brand guide |

---
*Esoterica Brand Guide v1.0*
*"Ancient patterns, new paths"*
```

Replace {date} with actual date during execution.
  </action>
  <verify>
    - `cat brand/BRAND_GUIDE.md | grep "Color Palette"` shows color section
    - `cat brand/BRAND_GUIDE.md | grep "Typography"` shows typography section
    - `cat brand/BRAND_GUIDE.md | grep "Imagery Rules"` shows imagery section
    - `cat brand/BRAND_GUIDE.md | grep "Cormorant Garamond"` shows font recommendation
  </verify>
  <done>Comprehensive brand guide documents visual language with colors, typography, imagery rules, and asset specs</done>
</task>

</tasks>

<verification>
Brand documentation complete:
1. `ls brand/*.md` shows COLOR_PALETTE.md and BRAND_GUIDE.md
2. Color palette has 6+ named colors with hex values
3. Brand guide covers all required sections (colors, typography, imagery, assets)
4. Typography recommendations include specific fonts
5. Do's and Don'ts provide clear guidance
</verification>

<success_criteria>
- COLOR_PALETTE.md exists with extracted colors and usage guidance
- BRAND_GUIDE.md exists with comprehensive visual language documentation
- Typography section recommends specific fonts matching eco-futurist aesthetic
- Imagery rules document the Joshua Tree / selenite / film aesthetic
- Asset specifications list all required sizes
- Voice alignment section connects to positioning documents
</success_criteria>

<output>
After completion, create `.planning/phases/12-visual-language/12-04-SUMMARY.md`
</output>
