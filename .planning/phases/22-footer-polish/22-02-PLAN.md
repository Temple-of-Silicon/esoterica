---
phase: 22-footer-polish
plan: 02
type: execute
wave: 2
depends_on: ["22-01"]
files_modified:
  - site/src/pages/index.astro
  - site/src/styles/global.css
autonomous: false

must_haves:
  truths:
    - "Footer displays copyright linking to templeofsilicon.com"
    - "Footer has GitHub icon linking to repository"
    - "Site scores 90+ on Lighthouse performance audit"
    - "Site renders correctly in Chrome, Safari, Firefox, and Edge"
  artifacts:
    - path: "site/src/pages/index.astro"
      provides: "Complete semantic footer"
      contains: "templeofsilicon.com"
    - path: "site/src/styles/global.css"
      provides: "Footer styling with icon spacing"
      contains: "site-footer"
  key_links:
    - from: "footer a[aria-label]"
      to: "github.com/jem-computer/esoterica"
      via: "accessible icon link"
      pattern: "aria-label"
---

<objective>
Add complete site footer and verify quality benchmarks.

Purpose: Complete the site with proper footer containing copyright and GitHub link, then verify Lighthouse 90+ and cross-browser compatibility as final polish.

Output: Semantic footer with accessible GitHub icon, Lighthouse performance score 90+, verified cross-browser rendering.
</objective>

<execution_context>
@/Users/jem/.claude/get-shit-done/workflows/execute-plan.md
@/Users/jem/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/22-footer-polish/22-RESEARCH.md
@site/src/pages/index.astro
@site/src/styles/global.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Implement semantic footer</name>
  <files>site/src/pages/index.astro, site/src/styles/global.css</files>
  <action>
Replace the current placeholder footer in index.astro (lines 62-66) with a complete semantic footer:

```html
<!-- Site Footer -->
<footer class="site-footer">
  <small>
    <a href="https://templeofsilicon.com"
       target="_blank"
       rel="noopener noreferrer">
      &copy; 02026-, Temple of Silicon
    </a>
    <a href="https://github.com/jem-computer/esoterica"
       target="_blank"
       rel="noopener noreferrer"
       aria-label="View source on GitHub"
       class="footer-github">
      <svg aria-hidden="true" viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
        <path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 21.795 24 17.295 24 12c0-6.63-5.37-12-12-12"/>
      </svg>
    </a>
  </small>
</footer>
```

Key semantic choices:
- `<footer>` for contentinfo landmark
- `<small>` for copyright text (appropriate semantic)
- `aria-label` on icon-only link for accessibility
- `aria-hidden="true"` on decorative SVG

Update global.css to style the new footer class structure. Add after existing `.footer` styles:

```css
/* ===== SITE FOOTER (Bottom of Page) ===== */
.site-footer {
  position: relative;
  z-index: 10;
  padding: 1.5rem 2rem;
  text-align: center;
}

.site-footer small {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  font-size: 0.75rem;
  color: var(--text-hero-muted);
}

.site-footer a {
  color: var(--text-hero-muted);
  text-decoration: none;
  transition: color 0.15s ease;
}

.site-footer a:hover {
  color: var(--text-hero);
}

.site-footer a:first-child {
  text-decoration: underline;
  text-underline-offset: 2px;
}

.footer-github {
  display: flex;
  align-items: center;
}

.footer-github svg {
  opacity: 0.8;
  transition: opacity 0.15s ease;
}

.footer-github:hover svg {
  opacity: 1;
}
```

Note: Keep the existing `.footer` class rules as they may be used by the hero footer.
  </action>
  <verify>
1. `grep -n "templeofsilicon" site/src/pages/index.astro` shows the link
2. `grep -n "aria-label" site/src/pages/index.astro` shows accessible name on GitHub link
3. `grep -n "site-footer" site/src/styles/global.css` shows new styles
4. Build succeeds: `cd site && npm run build`
  </verify>
  <done>Footer has copyright link to templeofsilicon.com and accessible GitHub icon link</done>
</task>

<task type="auto">
  <name>Task 2: Run Lighthouse audit</name>
  <files>None (verification only)</files>
  <action>
Run Lighthouse CLI audit on the built site to verify 90+ performance score.

1. Build the site: `cd site && npm run build`
2. Serve the built output: `npx serve dist -l 4322` (run in background)
3. Run Lighthouse:
```bash
npx lighthouse http://localhost:4322/esoterica/ \
  --only-categories=performance \
  --preset=desktop \
  --output=json \
  --output-path=./lighthouse-desktop.json \
  --chrome-flags="--headless"
```
4. Extract score from JSON
5. Kill the serve process

If score is below 90, analyze the report for issues:
- LCP (Largest Contentful Paint) - likely video poster
- TBT (Total Blocking Time) - should be minimal with small JS
- CLS (Cumulative Layout Shift) - check video/poster swap

Document the score in the summary. If below 90, identify specific issues but proceed (the cross-browser verification is the final gate).
  </action>
  <verify>
1. Lighthouse JSON report exists
2. Performance score is captured
3. Score is 90+ OR specific issues are documented
  </verify>
  <done>Lighthouse performance audit completed with score documented</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete site with:
- Re-encoded video (smooth Chrome scroll animation)
- Loading state (poster hides when video ready)
- Semantic footer with copyright and GitHub icon
- Lighthouse audit results
  </what-built>
  <how-to-verify>
1. **Chrome:** Open https://jem-computer.github.io/esoterica/ (or localhost dev server)
   - Scroll through hero section - should be smooth, no lag
   - Check footer shows "(c) 02026-, Temple of Silicon" with link
   - Check GitHub icon is visible and links to repo

2. **Safari:** Open the same URL
   - Verify scroll animation matches Chrome smoothness
   - Verify footer renders correctly

3. **Firefox:** Open the same URL
   - Verify video scroll works
   - Verify footer renders correctly

4. **Edge:** Open the same URL
   - Verify video scroll works (should match Chrome)
   - Verify footer renders correctly

5. **Accessibility check:**
   - Tab through footer - GitHub icon should be focusable
   - Screen reader should announce "View source on GitHub"
  </how-to-verify>
  <resume-signal>Type "approved" if all browsers work correctly, or describe issues found</resume-signal>
</task>

</tasks>

<verification>
After completing all tasks:
1. Footer displays "(c) 02026-, Temple of Silicon" linking to templeofsilicon.com
2. GitHub icon is present and links to repo
3. Lighthouse score is 90+ (or issues documented)
4. Human verified cross-browser in Chrome, Safari, Firefox, Edge
</verification>

<success_criteria>
- Footer has copyright text linking to templeofsilicon.com
- Footer has GitHub icon with accessible name
- Lighthouse performance score 90+ (desktop)
- Human verified: works in Chrome, Safari, Firefox, Edge
</success_criteria>

<output>
After completion, create `.planning/phases/22-footer-polish/22-02-SUMMARY.md`
</output>
