# Milestone v1.4: Website Upgrade

**Status:** SHIPPED 2026-01-29
**Phases:** 19-22
**Total Plans:** 8

## Overview

Transform the landing page from static hero image to an immersive scroll-driven video experience with Gateway Process illustrations and proper site footer.

## Phases

### Phase 19: Scroll Video

**Goal**: Visitors experience Apple-style scroll-driven video playback tied to scroll position
**Depends on**: Phase 18 (existing Astro site)
**Requirements**: WEB-01, WEB-02
**Plans**: 2 plans

Plans:
- [x] 19-01-PLAN.md -- Compress source video with ffmpeg for web delivery
- [x] 19-02-PLAN.md -- Build scroll-driven video hero component and integrate

**Success Criteria:**
1. Scrolling the hero section plays the video forward; scrolling back plays it in reverse
2. First frame displays immediately as poster state before any scrolling
3. Video is a `<video>` element with currentTime driven by scroll position
4. Source video is compressed from 25MB to under 5MB
5. Page loads without jank -- scroll handler uses requestAnimationFrame throttling

### Phase 20: Mobile + Accessibility

**Goal**: The scroll video works gracefully on mobile devices and respects accessibility preferences
**Depends on**: Phase 19
**Requirements**: (extends WEB-01 -- mobile and a11y dimensions)
**Plans**: 2 plans

Plans:
- [x] 20-01-PLAN.md -- Reduced-motion support, poster extraction, viewport resize handling
- [x] 20-02-PLAN.md -- Scroll hint element with delayed appearance and scroll fade

**Success Criteria:**
1. Mobile visitors see a static poster or reduced frame set instead of full 240-frame sequence
2. Users with `prefers-reduced-motion` enabled see a static frame with no scroll animation
3. A scroll hint chevron communicates that the hero section is interactive
4. Text overlay fades in sync with scroll progress
5. Canvas resizes correctly when viewport dimensions change

### Phase 21: Gateway Illustrations

**Goal**: The landing page features Gateway Process-style illustrations that explain Esoterica's concepts
**Depends on**: Phase 18 (independent of video phases)
**Requirements**: WEB-03, WEB-04, WEB-05
**Plans**: 2 plans

Plans:
- [x] 21-01-PLAN.md -- Generate three Gateway Process-style line art illustrations via Nano Banana Pro
- [x] 21-02-PLAN.md -- Integrate illustrations into page with CSS breakout, theme filter, scroll reveal

**Success Criteria:**
1. Illustration prompts are generated and ready for Nano Banana Pro image creation
2. Illustrations appear on the landing page interspersed with prose and/or in a 3-column grid
3. Illustrations are theme-aware (adapt to dark/light mode via CSS custom properties)
4. Illustrations fade in on scroll using Intersection Observer

### Phase 22: Footer + Polish

**Goal**: The site has a complete footer and passes quality benchmarks
**Depends on**: Phases 19, 20, 21
**Requirements**: WEB-06
**Plans**: 2 plans

Plans:
- [x] 22-01-PLAN.md -- Re-encode video with keyframes for Chrome performance, add loading state
- [x] 22-02-PLAN.md -- Implement semantic footer, run Lighthouse audit, cross-browser verification

**Success Criteria:**
1. Footer displays "(c) 02026-, Temple of Silicon" linking to templeofsilicon.com and GitHub icon linking to the repo
2. Loading states show poster frame while video frames load
3. Site scores 90+ on Lighthouse performance audit
4. Site renders correctly in Chrome, Safari, Firefox, and Edge

---

## Milestone Summary

**Key Decisions:**
- Video element with scroll-driven currentTime (NOT canvas + frame images)
- Vanilla JS only — zero runtime dependencies preserved
- CRF 28→32 for video compression, keyframes every 10 frames for Chrome
- Nano Banana Pro via Replicate for illustrations
- Custom stamp-filter.mjs replicates Photoshop Stamp filter
- CSS breakout layout for illustrations (65rem from 38rem prose)
- Dark mode: filter invert(1) on images only
- Temple of Silicon links to GitHub org (not separate domain)

**Issues Resolved:**
- Chrome scroll animation lag (fixed with frequent keyframes)
- BASE_URL trailing slash bug (normalized in component)
- iOS Safari first-frame display (poster attribute + #t=0.001)

**Issues Deferred:**
- None

**Technical Debt Incurred:**
- Video directory not gitignored (intentional — no CI pipeline, GitHub Pages needs the file)
- Phase 21 missing VERIFICATION.md (verified via summaries)

---

_Archived: 2026-01-29 as part of v1.4 milestone completion_
_For current project status, see .planning/ROADMAP.md_
